# 职场狼人杀

一个基于Web的角色扮演游戏，玩家通过完成任务来提升自己的属性值，解锁成就和称号。

## 应用简介

**职场狼人杀**是一款轻量级的角色扮演游戏，玩家需要：

- 选择自己的身份（神、狼、人）
- 在设定的时间周期内接受并完成任务
- 通过完成任务来提升三个核心属性：**神性**、**狼性**、**人性**
- 达成特定条件解锁成就和称号
- 在周期结束时查看自己的成就和完成情况

游戏采用本地存储技术，所有数据保存在浏览器中，无需服务器支持。

## 功能特点

- 🎭 **身份系统**：三种身份可选（神、狼、人），支持随机选择
- 📋 **任务系统**：自动定时发放任务，玩家可接受、完成或放弃
- 📊 **属性系统**：三个维度属性可视化展示（雷达图）
- 🏆 **成就系统**：40个成就等待解锁
- 🎖️ **称号系统**：多个称号，每个称号包含多个成就
- ⏰ **周期管理**：可自定义身份选择周期和任务发放时间
- 💾 **数据持久化**：所有数据自动保存到本地存储

## 使用方法

### 1. 初始化设置

首次打开应用时，会进入初始化界面，需要完成以下设置：

#### 1.1 输入玩家名称
- 在"请输入您的名称"输入框中输入您的名称（最多20个字符）
- 这个名称会显示在主界面的顶部

#### 1.2 设置身份选择周期
- 在"身份选择周期（天）"中输入天数（1-30天）
- 默认值为7天
- 周期结束后，玩家需要重新选择身份

#### 1.3 设置任务发放时间
- **任务发放周期（开始时间）**：设置每天任务开始发放的时间（默认：09:00）
- **任务发放周期（结束时间）**：设置每天任务停止发放的时间（默认：17:00）
- 任务会在设定的时间范围内，每隔1小时自动发放一次

#### 1.4 确认并选择身份
- 点击"确认"按钮后，会弹出身份选择窗口
- 选择您的身份：
  - **神**：偏向神性属性
  - **狼**：偏向狼性属性
  - **人**：偏向人性属性
  - **随机**：系统随机分配身份

### 2. 主界面操作

#### 2.1 查看任务列表
- 主界面中央显示任务列表
- 任务会在设定的时间范围内自动发放
- 每个任务卡片显示：
  - 任务标题
  - 任务状态（待处理/已接受/已完成）
  - 操作按钮（接受/拒绝/完成/放弃）

#### 2.2 任务操作流程

**接受任务：**
1. 点击任务卡片上的"接受"按钮
2. 任务状态变为"已接受"
3. 此时可以点击"完成"或"放弃"

**完成任务：**
1. 点击"完成"按钮
2. 任务状态变为"已完成"
3. 系统会根据任务类型和您的身份计算属性变化
4. 完成的任务会被记录到本周期完成任务列表中
5. "完成"和"放弃"按钮会消失，只显示"已完成"标签

**放弃任务：**
1. 点击"放弃"按钮
2. 任务从列表中移除
3. 不会影响属性值

**查看任务详情：**
- 点击任务卡片可以查看详细内容：
  - 任务目标
  - 任务故事
  - 任务分数（对三个属性的影响）

#### 2.3 调试功能
- 点击"发放任务（调试）"按钮可以立即发放一个任务（用于测试）

### 3. 属性系统

#### 3.1 查看属性
- 点击主界面右上角的"📊 属性"按钮
- 弹出属性窗口，显示：
  - 当前三个属性的数值（神/狼/人）
  - 属性雷达图（可视化展示）

#### 3.2 属性计算规则
- **本身份任务**：直接按任务分数累加，无加权
- **非本身份任务**：
  - 加分项：乘以 [0.5, 0.8] 的随机系数，向下取整，最少1分
  - 减分项：乘以 [1.2, 1.5] 的随机系数，向上取整
- 所有属性值限制在 [0, 100] 范围内

#### 3.3 雷达图说明
- 雷达图显示三个维度的属性值
- 各维度的最大值根据玩家三个属性中的最大值乘以2计算
- 如果计算出的最大值超过100，则最大值固定为100

### 4. 成就系统

#### 4.1 成就调试
- 点击"🔍 成就调试"按钮
- 在弹窗中输入三个属性的数值（神、狼、人）
- 点击"计算"按钮
- 系统会显示根据这些数值可以达成的成就：
  - 成就名称
  - 成就编号
  - 成就描述
- 点击"确认"按钮可以解锁这些成就
- 点击"关闭"按钮返回输入界面

#### 4.2 成就计算规则
- 系统根据玩家的三个属性值自动判断是否达成成就条件
- 共有40个成就，每个成就都有特定的触发条件
- 成就条件包括：
  - 属性值范围判断
  - 属性比例判断（如6:4比例）
  - 属性最大值判断
  - 组合条件判断

### 5. 称号系统

#### 5.1 查看称号
- 点击"🏆 称号"按钮
- 弹出称号窗口，以卡片形式展示所有称号

#### 5.2 称号状态
称号有三种状态：

**已解锁（紫色卡片）：**
- 显示称号名称
- 可以点击查看详情
- 表示该称号下的所有成就都已完成

**进行中（橙色卡片）：**
- 显示称号名称和进度（如：1/3）
- 不可点击
- 表示该称号下部分成就已完成

**未解锁（灰色卡片）：**
- 显示"???"
- 不可点击
- 表示该称号下没有任何成就完成

#### 5.3 查看称号详情
- 点击已解锁的称号卡片
- 弹出详情窗口，显示：
  - 称号名称
  - 该称号下所有已达成成就的描述
  - 各描述之间用分隔线区分

### 6. 周期成就计算

#### 6.1 自动计算时机
- 在任务发放周期的最后一天的结束时间到达时
- 系统会自动计算玩家的成就
- 如果玩家在周期结束前关闭了页面，再次打开页面时会自动触发计算

#### 6.2 成就结果展示
- 自动弹出成就结果窗口，显示：
  - **达成的成就**：列出所有达成的成就名称、编号和描述
  - **本周期完成的任务**：列出本周期内完成的所有任务
- 如果未完成任何成就，会显示"未完成成就"
- 如果未完成任务，会显示"本周期未完成任务"

#### 6.3 称号解锁
- 当玩家完成某个称号下的所有成就时，该称号会自动解锁
- 解锁的称号可以在"称号"窗口中查看

### 7. 设置功能

#### 7.1 打开设置
- 点击主界面右上角的"⚙️ 设置"按钮

#### 7.2 修改身份选择周期
- 在"身份选择周期（天）"中输入新的天数
- 点击"保存"按钮
- 周期会在下次身份选择时生效

#### 7.3 重置周期
- 点击"重置周期（立即显示身份选择）"按钮
- 系统会立即清除当前周期，要求玩家重新选择身份
- 玩家的属性值、任务、成就等数据不会清除

#### 7.4 清除所有数据
- 点击"清除所有数据（重新开始）"按钮
- **警告**：此操作会清除所有数据，包括：
  - 玩家名称
  - 身份
  - 属性值
  - 任务列表
  - 成就和称号
  - 所有设置
- 清除后需要重新初始化

### 8. 数据存储

- 所有数据保存在浏览器的本地存储（LocalStorage）中
- 数据包括：
  - 玩家信息（名称、身份）
  - 属性值
  - 任务列表
  - 成就和称号状态
  - 设置参数
- 清除浏览器数据会丢失所有游戏进度

## 技术说明

- **前端框架**：纯HTML + CSS + JavaScript
- **图表库**：ECharts（用于雷达图）
- **数据存储**：LocalStorage
- **数据格式**：JSON

## 文件结构

```
职场狼人杀/
├── index.html          # 主页面
├── script.js           # 游戏逻辑
├── style.css           # 样式文件
├── data/               # 数据文件目录
│   ├── task.json       # 任务数据
│   ├── achievement.json # 成就数据
│   └── ...
└── js/                 # JavaScript库
    └── echarts.min.js  # ECharts图表库
```

## 注意事项

1. **浏览器兼容性**：建议使用现代浏览器（Chrome、Firefox、Edge等）
2. **数据备份**：重要数据建议定期备份（导出LocalStorage数据）
3. **时间设置**：任务发放时间建议设置在合理的工作时间内
4. **周期管理**：周期结束后记得重新选择身份，否则无法继续游戏
5. **成就解锁**：成就调试功能主要用于测试，实际游戏中成就会在周期结束时自动计算

## 常见问题

**Q: 任务没有自动发放？**
A: 检查当前时间是否在设定的任务发放时间范围内，或者点击"发放任务（调试）"按钮手动发放。

**Q: 如何查看我的成就？**
A: 使用"成就调试"功能输入当前属性值，或者等待周期结束自动计算。

**Q: 称号如何解锁？**
A: 完成该称号下的所有成就即可解锁。可以在"称号"窗口中查看进度。

**Q: 清除数据后能恢复吗？**
A: 不能。清除数据是永久性的，请谨慎操作。

**Q: 属性值会超过100吗？**
A: 不会。所有属性值都会被限制在0-100范围内。

---

祝您游戏愉快！🎮

